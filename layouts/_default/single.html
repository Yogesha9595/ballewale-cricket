{{ define "main" }}

<article class="bw-article">

  <!-- =========================
       LARGE HERO IMAGE (DISCOVER)
  ========================= -->
  {{ with .Params.image }}
  <div class="bw-article-cover">
    <img
      src="{{ . }}"
      alt="{{ $.Title }}"
      loading="eager">
  </div>
  {{ end }}

  <!-- =========================
       ARTICLE HEADER
  ========================= -->
  <header class="bw-article-header">

    {{ with .Params.categories }}
    <span class="bw-badge">{{ index . 0 }}</span>
    {{ end }}

    <h1 class="bw-article-title">
      {{ .Title }}
    </h1>

    {{ with .Params.description }}
    <p class="bw-article-subtitle">
      {{ . }}
    </p>
    {{ end }}

    <div class="bw-article-meta">
      <span>By BalleWale News Desk</span>
      <span class="dot">•</span>
      <time datetime="{{ .Date }}">
        {{ .Date.Format "January 2, 2006" }}
      </time>
      <span class="dot">•</span>
      <span>{{ .ReadingTime }} min read</span>
    </div>

  </header>

  <!-- =========================
       ARTICLE BODY
  ========================= -->
  <div class="bw-article-content">
    {{ .Content }}
  </div>

  <!-- =========================
       INLINE AD (SAFE POSITION)
  ========================= -->
  <div class="bw-article-ad">
    <div class="ad-placeholder">
      Advertisement
    </div>
  </div>

  <!-- =========================
       FOOTER TAGS
  ========================= -->
  <footer class="bw-article-footer">

    {{ with .Params.categories }}
    <div class="bw-categories">
      <strong>Category:</strong>
      {{ range . }}
      <a href="/categories/{{ . | urlize }}/">{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}

    {{ with .Params.tags }}
    <div class="bw-tags">
      <strong>Tags:</strong>
      {{ range . }}
      <a href="/tags/{{ . | urlize }}/">#{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}

  </footer>

</article>

<!-- =========================
     RELATED NEWS
========================= -->
<section class="bw-related">
  <h3>Related News</h3>

  <div class="bw-post-grid">
    {{ $related := first 3 (where site.RegularPages "Type" "posts") }}
    {{ range $related }}
    <article class="post-card">
      <a href="{{ .RelPermalink }}">
        <img
          src="{{ .Params.image | default "/images/default.jpg" }}"
          alt="{{ .Title }}"
          loading="lazy">
        <h3>{{ .Title }}</h3>
      </a>
    </article>
    {{ end }}
  </div>
</section>

<!-- =========================
     STRUCTURED DATA (NEWSARTICLE)
========================= -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "NewsArticle",
  "headline": "{{ .Title }}",
  "image": ["{{ .Params.image }}"],
  "datePublished": "{{ .Date }}",
  "dateModified": "{{ .Date }}",
  "author": {
    "@type": "Organization",
    "name": "BalleWale News Desk"
  },
  "publisher": {
    "@type": "Organization",
    "name": "BalleWale",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ballewale.in/favicon.svg"
    }
  },
  "description": "{{ .Params.description }}"
}
</script>

{{ end }}
